const fs = require('fs')
const path = require('path')

const sqlFile = path.join(__dirname, '../prisma/migrations/add-subscription-discounts-and-revolut.sql')
const sql = fs.readFileSync(sqlFile, 'utf8')

console.log('='.repeat(80))
console.log('SQL MIGRATION: Add Subscription Discounts and Revolut Fields')
console.log('='.repeat(80))
console.log('')
console.log('Copy and paste the following SQL into Supabase SQL Editor:')
console.log('')
console.log('-'.repeat(80))
console.log(sql)
console.log('-'.repeat(80))
console.log('')
console.log('This will add:')
console.log('1. subscriptionDiscount column to Client table')
console.log('2. additionalServicesDiscount column to Client table')
console.log('3. revolutCustomerId column to Client table')
console.log('4. Revolut payment fields to Invoice table')
console.log('')
console.log('After running this migration, try purchasing a subscription again.')

